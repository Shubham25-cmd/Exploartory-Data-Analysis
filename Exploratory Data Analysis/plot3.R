library(ggplot2)
NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
Baltimore <- subset(NEI, fips == "24510")
g <- data.frame("Years" = rep(c(1999,2002,2005,2008),4), "Type" = c(rep("POINT",4),rep("NONPOINT",4),rep("ON-ROAD",4),rep("NON-ROAD",4)))
g <- g %>% mutate("EMISSIONS" = c(sum(Baltimore$Emissions[c(Baltimore$year==1999 & Baltimore$type=="POINT")]),sum(Baltimore$Emissions[(Baltimore$year==2002 & Baltimore$type=="POINT")]),sum(Baltimore$Emissions[(Baltimore$year==2005 & Baltimore$type=="POINT")]),sum(Baltimore$Emissions[(Baltimore$year==2008 & Baltimore$type=="POINT")]),sum(Baltimore$Emissions[c(Baltimore$year==1999 & Baltimore$type=="NONPOINT")]),sum(Baltimore$Emissions[(Baltimore$year==2002 & Baltimore$type=="NONPOINT")]),sum(Baltimore$Emissions[(Baltimore$year==2005 & Baltimore$type=="NONPOINT")]),sum(Baltimore$Emissions[(Baltimore$year==2008 & Baltimore$type=="NONPOINT")]),sum(Baltimore$Emissions[c(Baltimore$year==1999 & Baltimore$type=="ON-ROAD")]),sum(Baltimore$Emissions[(Baltimore$year==2002 & Baltimore$type=="ON-ROAD")]),sum(Baltimore$Emissions[(Baltimore$year==2005 & Baltimore$type=="ON-ROAD")]),sum(Baltimore$Emissions[(Baltimore$year==2008 & Baltimore$type=="ON-ROAD")]),sum(Baltimore$Emissions[c(Baltimore$year==1999 & Baltimore$type=="NON-ROAD")]),sum(Baltimore$Emissions[(Baltimore$year==2002 & Baltimore$type=="NON-ROAD")]),sum(Baltimore$Emissions[(Baltimore$year==2005 & Baltimore$type=="NON-ROAD")]),sum(Baltimore$Emissions[(Baltimore$year==2008 & Baltimore$type=="NON-ROAD")])))
png('plot3.png')
g %>% ggplot(aes(Years,EMISSIONS, color = Type)) + geom_point() + geom_line() + xlab("YEARS") +ylab("Total Emission (in tons)") + facet_wrap("Type") + ggtitle("Emissions in Baltimore")
dev.off()